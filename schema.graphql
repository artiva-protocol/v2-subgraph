type Platform @entity {
  id: ID!
  users: [PlatformUser!]! @derivedFrom(field: "platform")
  content: [Content!]! @derivedFrom(field: "platform")
  metadataURI: String
  contentAddedTimestamp: String
  metadataDigestUpdatedTimestamp: String!
  deployedAtTimestamp: String!
}

type Content @entity {
  id: ID!
  contentId: String!
  uri: String!
  platform: Platform!
  owner: PlatformUser!
  setAtTimestamp: String!
}

type PlatformUser @entity {
  id: ID!
  user: Bytes!
  platform: Platform!
  admin: Boolean
  contentPublisher: Boolean
  metadataManager: Boolean
  content: [Content!]! @derivedFrom(field: "owner")
}
